(function(){var captcha;captcha=function(opt){var this$=this;opt==null&&(opt={});this._cfg=opt.cfg;this.mgr=opt.manager;this.init=proxise.once(function(cfg){cfg==null&&(cfg={});return this$._init(cfg)});this._zmgr=opt.zmgr;return this};captcha.prototype=import$(Object.create(Object.prototype),{_init:function(cfg){var this$=this;if(cfg){this._cfg=cfg}return Promise.resolve().then(function(){return this$.mgr.get({name:"@servebase/captcha"})}).then(function(bc){return bc.create()}).then(function(bi){return bi.attach({root:document.body}).then(function(){return bi["interface"]()})}).then(function(cap){return this$.captcha=cap}).then(function(){return this$.captcha.init({cfg:this$._cfg,zmgr:this$._zmgr})})},guard:function(arg$){var cb;cb=arg$.cb;if(this._cfg&&(this._cfg.enabled==null||this._cfg.enabled)){return this.captcha.guard({cb:cb})}else{return Promise.resolve().then(function(){return cb({captcha:{}})})}}});if(typeof module!="undefined"&&module!==null){module.exports=captcha}else{window.captcha=captcha}function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)if(own.call(src,key))obj[key]=src[key];return obj}}).call(this);
