!function(){var r,e=function(r){var e=this;return null==r&&(r={}),"undefined"!=typeof window&&null!==window||console.warn("[@servebase/erratum] no window to listen to error/rejection"),window.addEventListener("error",function(r){return e.errorHandler(r)}),window.addEventListener("unhandledrejection",function(r){try{return e.rejectionHandler(r)}catch(r){return r}}),r.handler&&(this.handler=r.handler),this};e.prototype=((r=Object.create(Object.prototype)).handler=function(r){},r.errorHandler=function(r){if(!lderror.eventHandler.error(r))return this.handler(r.error)},r.rejectionHandler=function(r){if(!lderror.eventHandler.rejection(r))return this.handler(r.reason)},r.test=function(r){return(r=null==r?{}:r).bare?this._test(r):function(r){var e=this;return setTimeout(function(){return e._test(r)},0)}(r)},r._test=function(r){if(r.promise)return lderror.reject(1023);throw lderror(1023)},r),"undefined"!=typeof module&&null!==module?module.exports=e:window.erratum=e}.call(this);
