// Generated by LiveScript 1.6.0
(function(){
  var route;
  route = function(o){
    var supportedActions, n, k, ref$;
    o == null && (o = {});
    supportedActions = ['auth', 'mail-expire', 'mail-verified', 'oauth-done', 'oauth-failed', 'passwd-change', 'passwd-expire', 'passwd-done', 'passwd-reset'];
    if (!(n = (function(){
      var results$ = [];
      for (k in httputil.qs()) {
        results$.push(k);
      }
      return results$;
    }()).filter(function(it){
      return in$(it, supportedActions);
    })[0])) {
      n = 'auth';
    }
    return this._manager.from((ref$ = import$({
      name: "@servebase/auth"
    }, o.bid || {}), ref$.path = n, ref$), {
      root: o.root || document.body
    });
  };
  if (typeof auth != 'undefined' && auth !== null) {
    auth.prototype.route = route;
  }
  function in$(x, xs){
    var i = -1, l = xs.length >>> 0;
    while (++i < l) if (x === xs[i]) return true;
    return false;
  }
  function import$(obj, src){
    var own = {}.hasOwnProperty;
    for (var key in src) if (own.call(src, key)) obj[key] = src[key];
    return obj;
  }
}).call(this);
