.ldcv(data-name="authpanel"): .base: .inner
  style(type="text/css"): include:stylus authpanel.styl
  script(type="@plotdb/block")
    include:lsc i18n.ls
    include:lsc authpanel.ls
  form.w-100.h-100.d-flex.align-items-center.justify-content-center
    .auth-base.d-flex.shadow.sm.rounded.mx-auto(style="overflow:scroll")
      .auth-info.mx-auto.flex-grow-1.bg-light
        .w-100.h-100.position-relative.d-flex.flex-column.p-4
            .flex-grow-1.align-items-center.d-flex
              .ld.ld-float-rtl-in(ld="info",data-name="default")
                h3.mb-3.font-weight-bold(style="line-height:1em",t) info.def.title
                p
                  strong.text-capitalize(t) email
                  span.mx-1(t) info.def.desc.0
                  strong.mx-1(t) info.def.desc.1
                  span(t) info.def.desc.2
                p(t) info.def.desc.3

              .d-none.ld.ld-float-rtl-in(ld="info",data-name="signup-failed")
                h2.mb-4.font-weight-bold(t) info.sfail.title
                p(t) info.sfail.desc
                ul
                  li(t) info.sfail.hint.0
                  li(t) info.sfail.hint.1
                  li(t) info.sfail.hint.2
                  li(t) info.sfail.hint.3
                  li
                    a(href="/auth/?passwd-reset",target="_blank",rel="noopener noreferrer",t) reset passwd
                    span.mx-1(t) or
                    a.clickable(onclick="lda.ldcvmgr.toggle('contact');",t) contact
                p(t)
                  span info.fail.note.0
                  a.mx-1(href="/auth/") info.fail.note.1
                  span info.fail.note.2

              .d-none.ld.ld-float-rtl-in(ld="info",data-name="login-failed")
                h2.mb-4.font-weight-bold(t) info.lfail.title
                p(t) info.lfail.desc
                ul
                  li(t) info.lfail.hint.0
                  li(t) info.lfail.hint.1
                  li(t) info.lfail.hint.2
                  li(t) info.lfail.hint.3
                  li
                    a(href="/auth/?passwd-reset",target="_blank",rel="noopener noreferrer",t) reset passwd
                    span.mx-1(t) or
                    a.clickable(onclick="lda.ldcvmgr.toggle('contact');",t) contact
                p(t)
                  span(t) info.fail.note.0
                  a.mx-1(href="/auth/",t) info.fail.note.1
                  span(t) info.fail.note.2

              .d-none.ld.ld-float-rtl-in(ld="info",data-name="login-exceeded")
                h2.mb-4.font-weight-bold(t) info.exceed.title
                p(t) info.exceed.desc
                //- to be implemented
                .d-none
                  p(t) info.exceed.hint.0
                  .text-center.mb-3
                    .btn.btn-primary(t) info.exceed.hint.1
                p
                  span(t) info.exceed.hint.2
                  a.clickable(onclick="lda.ldcvmgr.toggle('contact');",t) contact

            .d-flex.justify-content-end
              span service powered by PlotDB Ltd.

              img.ml-1(alt="logo",src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NCA2NCI+CjxwYXRoIHN0cm9rZT0iI0ZGRkZGRiIgc3Ryb2tlLXdpZHRoPSI3LjQyMTEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTU5LjIsNTEuNmMtMS4zLTctNS4yLTEzLjEtMTEtMTcuMmw5LTE1LjUKYzAuOS0xLjUsMS4xLTMuNCwwLjYtNS4xYy0wLjUtMS43LTEuOC0zLjEtMy40LTMuOWMtNS42LTIuNy0xMS43LTQuMy0xNy45LTQuOEMzNC44LDUsMzMsNS42LDMxLjYsNi44Yy0xLjMsMS4yLTIuMSwyLjktMi4xLDQuN3YyIGMtNS4yLDAuMy0xMC4zLDEuNi0xNS4xLDMuN2gwYy0xLjYsMC43LTIuOSwyLjEtMy40LDMuOGMtMC42LDEuNy0wLjQsMy42LDAuNiw1LjJsNC43LDguMmMtNS44LDQuMS05LjcsMTAuMi0xMSwxNy4yIGMtMC4zLDEuOSwwLjIsMy44LDEuNCw1LjJjMS4yLDEuNSwzLDIuMyw1LDIuM2gyMC41aDBoMjAuNWMxLjksMCwzLjctMC44LDUtMi4zQzU5LDU1LjMsNTkuNSw1My40LDU5LjIsNTEuNnoiLz4gPHBhdGggZmlsbD0iIzdCQzRFMiIgZD0iTTEwLjcsNTIuNWMtMC4xLDAuNCwwLjEsMC43LDAuMiwwLjhjMC4xLDAuMSwwLjQsMC40LDAuOCwwLjRoMTUuOUwxOSwzOUMxNC43LDQyLjMsMTEuNyw0Ny4xLDEwLjcsNTIuNXoiIC8+IDxwYXRoIGZpbGw9IiNGQkIwNUIiIGQ9Ik01Mi44LDUzLjdjMC40LDAsMC43LTAuMiwwLjgtMC40YzAuMS0wLjEsMC4zLTAuNCwwLjItMC44Yy0xLTUuNC00LTEwLjItOC40LTEzLjVsLTguNSwxNC43SDUyLjh6Ii8+IDxwYXRoIGZpbGw9IiNFRDZDQTQiIGQ9Ik0zNSwyOS40YzMsMC4zLDUuOCwxLjEsOC41LDIuM2w5LTE1LjVjMC4yLTAuMywwLjEtMC43LDAuMS0wLjhjLTAuMS0wLjItMC4yLTAuNS0wLjUtMC42IGMtNS0yLjQtMTAuNC0zLjgtMTYtNC4zYzAsMC0wLjEsMC0wLjEsMGMtMC4zLDAtMC42LDAuMi0wLjcsMC4zYy0wLjEsMC4xLTAuMywwLjQtMC4zLDAuOHY0LjZjMCwwLDAsMCwwLDBWMjkuNHoiLz4gPHBhdGggZmlsbD0iI0FDRDM3MiIgZD0iTTI5LjYsMTguOWMtNC41LDAuMy04LjgsMS40LTEyLjksMy4yYy0wLjMsMC4yLTAuNSwwLjQtMC41LDAuNmMtMC4xLDAuMi0wLjEsMC41LDAuMSwwLjhsNC43LDguMiBjMi43LTEuMiw1LjYtMiw4LjUtMi4zVjE4Ljl6Ii8+IDxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik0zNSwzNC44TDM1LDM0LjhjLTAuOS0wLjEtMS44LTAuMi0yLjctMC4yaDBjLTAuOSwwLTEuOCwwLjEtMi43LDAuMmwwLDBjLTIsMC4yLTQsMC43LTUuOCwxLjVsNS44LDEwdjAgbDIuNyw0LjdsMCwwbDAsMGwyLjctNC43djBsNS44LTEwQzM4LjksMzUuNiwzNywzNS4xLDM1LDM0Ljh6Ii8+IDxwYXRoIGQ9Ik01OS4yLDUxLjZjLTEuMy03LTUuMi0xMy4xLTExLTE3LjJsOS0xNS41YzAuOS0xLjUsMS4xLTMuNCwwLjYtNS4xYy0wLjUtMS43LTEuOC0zLjEtMy40LTMuOWMtNS42LTIuNy0xMS43LTQuMy0xNy45LTQuOCBDMzQuOCw1LDMzLDUuNiwzMS42LDYuOGMtMS4zLDEuMi0yLjEsMi45LTIuMSw0Ljd2MmMtNS4yLDAuMy0xMC4zLDEuNi0xNS4xLDMuN2gwYy0xLjYsMC43LTIuOSwyLjEtMy40LDMuOCBjLTAuNiwxLjctMC40LDMuNiwwLjYsNS4ybDQuNyw4LjJjLTUuOCw0LjEtOS43LDEwLjItMTEsMTcuMmMtMC4zLDEuOSwwLjIsMy44LDEuNCw1LjJjMS4yLDEuNSwzLDIuMyw1LDIuM2gyMC41aDBoMjAuNSBjMS45LDAsMy43LTAuOCw1LTIuM0M1OSw1NS4zLDU5LjUsNTMuNCw1OS4yLDUxLjZ6IE01My42LDUzLjNjLTAuMSwwLjEtMC40LDAuNC0wLjgsMC40SDM2LjlMNDUuNSwzOWM0LjQsMy4zLDcuNCw4LjEsOC40LDEzLjUgQzUzLjksNTIuOSw1My43LDUzLjIsNTMuNiw1My4zeiBNMTAuOSw1My4zYy0wLjEtMC4xLTAuMy0wLjQtMC4yLTAuOGMxLTUuNCw0LTEwLjIsOC40LTEzLjVsOC41LDE0LjdIMTEuNyBDMTEuMyw1My43LDExLDUzLjUsMTAuOSw1My4zeiBNMTYuMiwyMi43YzAuMS0wLjIsMC4yLTAuNCwwLjUtMC42YzQuMS0xLjgsOC40LTIuOSwxMi45LTMuMnYxMC42Yy0zLDAuMy01LjgsMS4xLTguNSwyLjNsLTQuNy04LjIgQzE2LjEsMjMuMiwxNi4xLDIyLjgsMTYuMiwyMi43eiBNNTIuNiwxNS4zYzAuMSwwLjIsMC4xLDAuNS0wLjEsMC44bC05LDE1LjVjLTIuNy0xLjItNS42LTItOC41LTIuM1YxNi4xYzAsMCwwLDAsMCwwdi00LjYgYzAtMC40LDAuMi0wLjYsMC4zLTAuOGMwLjEtMC4xLDAuNC0wLjMsMC43LTAuM2MwLDAsMC4xLDAsMC4xLDBjNS42LDAuNSwxMSwxLjksMTYsNC4zQzUyLjQsMTQuOSw1Mi42LDE1LjIsNTIuNiwxNS4zeiBNMzIuMywzNC43IGMwLjksMCwxLjgsMC4xLDIuNywwLjJsMCwwYzIsMC4yLDQsMC43LDUuOCwxLjVsLTUuOCwxMHYwTDMyLjMsNTFsMCwwbDAsMGwtMi43LTQuN3YwbC01LjgtMTBjMS45LTAuOCwzLjgtMS4zLDUuOC0xLjVsMCwwIEMzMC41LDM0LjcsMzEuNCwzNC43LDMyLjMsMzQuN0wzMi4zLDM0Ljd6Ii8+IDwvc3ZnPgo=",style="height:1.3em;vertical-align:-.2em")
      .auth-form.mx-auto.flex-grow-1
        .d-flex.align-items-stretch.flex-column.justify-content-center.p-4(style="min-height:100%")
          div
            .d-flex.mb-4.btn-group
              .btn.btn-sm.btn-primary.flex-grow-1(ld="switch",data-name="login",t) login
              .btn.btn-sm.btn-light.border.flex-grow-1(ld="switch",data-name="signup",t) signup
          .flex-grow-1.d-flex.flex-column.justify-content-center
            div
              .form-group
                span(t) email
                input.form-control(ld="username input",name="username",t
                t-placeholder="input.email.hint",autocomplete="username")
                .invalid-feedback(style="margin-bottom:-.75em",t) input.email.invalid
              .form-group(ld="displayname")
                span(t) displayname
                input.form-control(name="displayname",ld="input",t,
                t-placeholder="input.displayname.hint",autocomplete="displayname")
                .invalid-feedback(t) required
              .form-group
                span(t) passwd
                input.form-control(type="password",ld="password input",name="password",
                autocomplete="password",t,t-placeholder="input.passwd.hint")
                .invalid-feedback(style="margin-bottom:-.75em",t) input.passwd.invalid.short
                //-.invalid-feedback(style="margin-bottom:-.75em",t) input.passwd.invalid.incorrect
            .text-center.text-sm.mb-4(t)
              span tos.desc.0
              a.mx-1(ld="tos",href="/tos",target="_blank",rel="noopener noreferrer") tos.desc.1
              span tos.desc.2
              a.mx-1(ld="privacy-policy",href="/privacy",target="_blank",rel="noopener noreferrer") tos.desc.3
            .btn.btn-primary.d-block.my-2.ld-ext-right(ld="submit")
              span(t,ld="submit-text") login
              .ld.ld-spin.ld-ring
            .text-right.my-2: a(ld="forget-password",href="/auth/?passwd-reset") #[span(t) forget]? Â»
          div(ld="oauths")
            .sep.sep-text.mb-4.text-sm.text-secondary: span(t) alt
            .d-flex
              .btn.btn-primary.mr-1.flex-grow-1(ld="oauth",data-name="facebook")
                .d-flex.justify-content-between.align-items-center #[span Facebook] #[i.i-fb(aria-hidden="true")]
              .btn.btn-outline-secondary.ml-1.flex-grow-1(ld="oauth",data-name="google")
                .d-flex.justify-content-between.align-items-center #[span Google] #[i.i-google(aria-hidden="true")]
