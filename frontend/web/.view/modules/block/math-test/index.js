 (function() { function template(locals) {var pug_html = "", pug_mixins = {}, pug_interp;pug_html = pug_html + "\u003Cdiv class=\"w-100 h-100\"\u003E\u003Cstyle type=\"text\u002Fcss\"\u003E.test-screen,.done-screen{width:100%;height:100%}.question{font-size:3em;font-weight:700;width:100%;height:50%;flex:1 1 auto;display:flex;align-items:center;justify-content:center}.answers{font-size:1.5em;font-weight:700;width:100%;height:50%;flex:1 1 auto;display:flex;flex-wrap:wrap;align-items:center;align-content:center;justify-content:center;gap:.25em}.answers .answer{cursor:pointer;padding:.5em;width:40%;box-shadow:0 1px 3px rgba(0,0,0,0.2);border:1px solid #e7e8e9;text-align:center}.result{flex:0 0 auto;width:80%;margin:auto;height:2em;padding:.5em 0;display:flex;gap:.5em}.result .clock{line-height:1em;flex:0 0 auto;white-space:nowrap;width:3em;text-align:right}.result .bar{overflow:hidden;width:100%;flex:1 1 auto;display:flex;flex-wrap:nowrap;justify-content:start;border-radius:.25em;background:#eee}.result .correct{width:0;height:1em;background:#0f0}.result .wrong{width:0;height:1em;background:red}\u003C\u002Fstyle\u003E\u003Cscript type=\"@plotdb\u002Fblock\"\u003Evar mod;module.exports={pkg:{},init:function(t){var r,e;r=t.root,e=t.pubsub;return e.on(\"init\",function(t){var n;n=t.prompt;return mod({root:r,pubsub:e,mod:{prompt:n}})})}};mod=function(t){var n,r,e,o,u,i,a,c,s,d;n=t.root,r=t.pubsub,e=t.mod;o={correct:new Audio(\"\u002Fassets\u002Fsfx\u002Fcorrect.mp3\"),wrong:new Audio(\"\u002Fassets\u002Fsfx\u002Fwrong.mp3\")};u={result:[],prompt:{},mode:\"count\",stat:{correct:0,wrong:0,total:20,count:0},time:{start:0,limit:30}};i=function(){var t;return(t=(u.time.start+u.time.limit*1e3-Date.now())\u002F1e3)\u003E0?t:0};a=function(){c.render(\"countdown\");if(i()\u003E0){return requestAnimationFrame(function(){return a()})}};c=new ldview({initRender:false,root:n,ctx:function(){return u.prompt},handler:{countdown:function(t){var n;n=t.node;return n.textContent=i().toFixed(1)},screen:function(t){var n,r,e;n=t.node;r=n.getAttribute(\"data-name\");e=u.stat.count===u.stat.total;e=r===\"done\"?!e:e;return n.classList.toggle(\"d-none\",e)},result:function(t){var n,r;n=t.node;r=n.getAttribute(\"data-name\");return n.style.width=100*u.stat[r]\u002Fu.stat.total+\"%\"},question:function(t){var n,r;n=t.node,r=t.ctx;return n.textContent=r.question.content},answer:{list:function(t){var n;n=t.ctx;return n.answers},key:function(t){return t.idx},view:{handler:{\"@\":function(t){var n,r;n=t.node,r=t.ctx;return n.textContent=r.value}},action:{click:{\"@\":function(t){var n,r,e;n=t.node,r=t.ctx;e=r.correct?\"correct\":\"wrong\";o[e].play();u.stat[e]=(u.stat[e]||0)+1;u.stat.count++;return s()}}}}}}});s=function(){u.prompt=e.prompt();return c.render()};d=function(){u.time.start=Date.now();a();return s()};return d()};\u003C\u002Fscript\u003E\u003Cdiv class=\"done-screen d-none\" ld=\"screen\" data-name=\"done\"\u003E\u003Cdiv class=\"d-flex flex-column w-100 h-100 align-items-center justify-content-center\"\u003E\u003Ch3\u003E作答完成！\u003C\u002Fh3\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cdiv class=\"test-screen d-none\" ld=\"screen\" data-name=\"test\"\u003E\u003Cdiv class=\"d-flex flex-column w-100 h-100\"\u003E\u003Cdiv class=\"question\" ld=\"question\"\u003E\u003C\u002Fdiv\u003E\u003Cdiv class=\"answers\"\u003E\u003Cdiv class=\"answer\" ld-each=\"answer\"\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cdiv class=\"result\"\u003E\u003Cdiv class=\"bar\"\u003E\u003Cdiv class=\"correct\" ld=\"result\" data-name=\"correct\"\u003E\u003C\u002Fdiv\u003E\u003Cdiv class=\"wrongn\" ld=\"result\" data-name=\"wrong\"\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cdiv class=\"clock\"\u003E\u003Cdiv\u003E\u003Cspan ld=\"countdown\"\u003E30\u003C\u002Fspan\u003Es\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E";;return pug_html;}; module.exports = template; })() 